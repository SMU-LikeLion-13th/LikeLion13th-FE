<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      nav {
        position: static;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
        height: 50px;
        background-color: #ea00a4;
        color: white;
        display: flex;
        align-items: center;
        padding: 0 20px;
        margin-bottom: 70px;
        gap: 20px;
      }

      span {
        text-align: left;
        flex-direction: row;
        font-weight: bold;
        font-size: 15px;
      }

      ul {
        margin: 0;
        padding: 0;
        display: flex;
        list-style: none;
        gap: 5px;
        font-size: 13px;
      }

      @media (max-width: 600px) {
        nav ul li {
          padding: 10px;
          text-align: center;
        }
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: rgb(0, 0, 0);
        margin: 0;
        padding: 0;
      }

      h2 {
        margin-top: 150px;;
        text-align: center;
        color: #ea00a4;
        margin-bottom: 24px;
      }

      h3 {
        text-align: center;
        color: white;
        margin-bottom: 20px;
        font-weight: lighter;
        font-size: 15px;
      }

      hr {
        border: none;
        height: 1px;
        background-color: #620145;
        margin-top: 250px;
      }

      p {
        text-align: center;
        color: #919191;
        font-weight: lighter;
        font-size: 10px;
        margin-top: 10px;
      }

      #loadBtn {
        display: block;
        margin: 0 auto 40px auto;
        padding: 10px 24px;
        font-size: 16px;
        background-color: #ea00a4;
        color: white;
        border: none;
        border-radius:400px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      #loadBtn:hover {
        background-color: #b1007c;
      }

      .card-container {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 12px;
      }

      .card {
        border-radius: 16px;
        padding: 0;
        transition: transform 0.3s ease, box-shadow 0.2s ease;
        overflow: hidden; /*ì´ê²Œ ëª¨ì•¼*/
        position: relative;
      }

      .card:hover{
        transform: translateY(-8px);
      }

      .card img {
        width: 100%;
        aspect-ratio: 2/3;
        object-fit: cover;
        display: block;
        border-radius: 16px;
      }

      .card .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.7);
        color: white;
        opacity: 0;
        transition: opacity 0.3s ease;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 10px;
        text-align: center;
      }

      .card:hover .overlay {
        opacity: 1;
      }

      .card .overlay h4 {
        font-size:14px;
        margin-bottom: 8px;
      }

      .card .overlay p {
        font-size: 12px;
        line-height: 1.4;
      }



  </style>
  </head>
  <body>
    <nav>
      <span id="home" style="cursor: pointer">ğŸ˜ MOVIEEE</span>
      <ul class="menu">
        <li id="popular" style="cursor: pointer;">ì¸ê¸°</li>
      </ul>
    </nav>
    

    <h2>ë‹¹ì‹ ì˜ ë‹¤ìŒ ì˜í™”ëŠ”?</h2>
    <h3>ì „ ì„¸ê³„ ì¸ê¸° ì˜í™”ë¶€í„°, ì§€ê¸ˆ ë†“ì¹˜ë©´ ì•ˆ ë  ëª…ì‘ê¹Œì§€<br>ê°ì„±ì ì¸ ì˜í™” íƒí—˜ì„ ì§€ê¸ˆ ì‹œì‘í•˜ì„¸ìš”</br></h3>
    <button id="loadBtn">ì¸ê¸° ì˜í™” ë³´ëŸ¬ê°€ê¸°</button>
    <div class="card-container" id="cardContainer"></div>

    <script>
      //ë²„íŠ¼ ì•ˆ ëˆŒë¦´ ë•Œ DOMContentLoaded ì‚¬ìš©
      document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("home").addEventListener("click", ()=> {
          location.reload(); //í™ˆ í´ë¦­ ì‹œ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ì´ˆê¸°í™”
        });
        document.getElementById("popular").addEventListener("click", loadPopularMovies);
        const apiKey = "5317c72646ca9337dc6d1e74095e4fc7";
        const loadBtn = document.getElementById("loadBtn");

        loadBtn.addEventListener("click", loadPopularMovies);

        function loadPopularMovies() {
          //fetchë¡œ ì™¸ë¶€ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
          fetch("https://api.themoviedb.org/3/movie/popular?api_key=5317c72646ca9337dc6d1e74095e4fc7&language=ko-KR&page=1")
            .then((res) => res.json()) //res=response
            .then((posts) => {
              //ìš”ì†Œ ìˆ¨ê¸°ê¸°
              document.querySelector("h1")?.remove();//í˜¹ì‹œ ìˆë‹¤ë©´
              document.querySelector("h2")?.remove();
              loadBtn.remove();
              //h3ë„ ì œê±° / forEachë¡œ ë°°ì—´ ì•ˆì˜ ë‚´ìš©ì„ í•˜ë‚˜ì”© ì²˜ë¦¬
              document.querySelectorAll("h3").forEach(h3 => h3.remove());
              //ì™œ h3ë§Œ ì´ë ‡ê²Œ ì§€ì›€? -> ì½”ë“œ ì•ˆì— ì—¬ëŸ¬ê°œ ìˆëŠ” íƒœê·¸ëŠ” querySelectorê°€ ì•„ë‹Œ querySelectorAllë¡œ NodeList ì „ì²´ë¥¼ ê°€ì ¸ì™€ì„œ ë°˜ë³µí•´ì„œ ì§€ì›Œì•¼í•¨

              //ì¸ê¸° ì˜í™”
              const headline = document.createElement("h2"); //createElement(): HTML ìš”ì†Œë¥¼ JSë¡œ ë§Œë“¦
              headline.textContent = "ì¸ê¸° ì˜í™”";
              headline.style.textAlign = "center";
              headline.style.color = "#ea00a4";
              headline.style.margin = "0 0 24px 0";

              const nav = document.querySelector("nav");
              nav.insertAdjacentElement("afterend", headline);

              //ì¹´ë“œ ìƒì„±
              const container = document.getElementById("cardContainer");
              container.innerHTML = ""; //í˜¹ì‹œ ê¸°ì¡´ ë‚´ìš© ìˆì„ ê²½ìš° ì´ˆê¸°í™”
              posts.results.forEach((movie) => {
                const card = document.createElement("div");
                card.className = "card";
                card.innerHTML = `
                    <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}" />
                    <div class="overlay">
                      <h4>${movie.title}</h4>
                      <p>â­ ${movie.vote_average}</p>
                      <p>ğŸ“… ${movie.release_date} ê°œë´‰</p>
                    </div>
                `;
                container.appendChild(card);
              });
            });
        }
      });
    
        
    </script>
    <hr />
    <p>Â© 2025 ë‚˜í˜„ì˜ ì˜í™” ì„œë¹„ìŠ¤ All rights reserved.</p>
  </body>
</html>
